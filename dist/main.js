(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{dateedit:()=>J,descriptionedit:()=>O,dom:()=>R,listoflist1:()=>T,readRadios1edit:()=>H,taskedit:()=>B});const n=document.querySelector("#list-display"),l=document.querySelector("#edit-form-display"),s=document.querySelector("#defaultlist"),o=document.querySelector("#form-display"),i=document.getElementById("list"),r=document.querySelectorAll(".radiobtn"),d=document.querySelector("#task"),a=document.querySelector("#description"),c=document.querySelector("#date"),m=document.querySelectorAll(".radiobtnedit"),u=document.getElementById("taskedit"),p=document.getElementById("descriptionedit"),g=document.getElementById("dateedit"),h=()=>{let e=[];return localStorage.getItem("liststore")&&(e=JSON.parse(localStorage.liststore)),e};function S(e){e.preventDefault(),window.location.reload()}const b=(e,t,n)=>{n[e].todos.splice(t,1)},E=(e,t,n)=>{e[t].todos[n].status=!1},f=(e,t,n)=>{e[t].todos[n].status=!0};class y{constructor(e){this.list=e,this.todos=[]}}function v(e,t,n,l,s){this.date=e,this.task=t,this.description=n,this.priority=l,this.status=s}const k=document.querySelector("#form-btn"),L=document.querySelector("#form-display"),I=document.querySelector("#task-btn"),C=document.querySelector("#list-display"),A=document.querySelector("#refresh-btn"),T=document.querySelectorAll(".listoflist"),M=document.getElementById("currentclassname"),w=document.getElementById("defaultlist"),q=document.getElementById("tommorrowlist"),x=document.getElementById("todaylist"),H=document.querySelectorAll(".radiobtnedit"),B=document.getElementById("taskedit"),O=document.getElementById("descriptionedit"),J=document.getElementById("dateedit"),N=document.getElementById("canceledittask"),D=document.getElementById("cancellist"),j=document.getElementById("editingform"),P=document.getElementById("cancelcreatetask"),_=document.getElementById("form-display"),R=()=>{D.addEventListener("click",(()=>{C.classList.add("d-none")})),N.addEventListener("click",(()=>{j.classList.add("d-none")})),P.addEventListener("click",(()=>{_.classList.add("d-none")})),k.addEventListener("click",(()=>{localStorage.getItem("selectedlist")?L.classList.contains("d-none")?L.classList.remove("d-none"):L.classList.add("d-none"):$("#myModal").modal("show")})),I.addEventListener("click",(()=>{C.classList.contains("d-none")?C.classList.remove("d-none"):C.classList.add("d-none")})),A.addEventListener("click",(()=>{if(localStorage.getItem("selectedlist"))for(localStorage.removeItem("selectedlist"),localStorage.removeItem("selectedtask");M.lastElementChild;)M.removeChild(M.lastChild)}));const e=e=>{let t=e.target.previousSibling.id;t=t.slice(-1);const n=h();if(n.splice(t,1),localStorage.setItem("liststore",JSON.stringify(n)),e.target.parentElement.remove(),localStorage.getItem("selectedlist")===e.target.previousSibling.innerHTML.trim())for(localStorage.removeItem("selectedlist");M.lastElementChild;)M.removeChild(M.lastChild);window.reload()},t=e=>{const t=h(),n=localStorage.getItem("selectedlist");for(let l=0;l<t.length;l+=1)if(t[l].list===n){let n=e.target.parentElement.parentElement.id;n=n.slice(-1),b(l,n,t),localStorage.setItem("liststore",JSON.stringify(t)),window.location.reload();break}e.target.parentElement.parentElement.remove()},n=e=>{if(j.classList.contains("d-none")){const t=e.target.parentElement.parentElement.id.slice(-1);localStorage.setItem("selectedtask",t),j.classList.remove("d-none");for(let t=0;t<3;t+=1)if(H[t].value===e.target.parentElement.previousSibling.innerHTML){H[t].checked=!0;break}B.value=e.target.parentElement.previousSibling.previousSibling.previousSibling.previousSibling.innerHTML,O.value=e.target.parentElement.previousSibling.previousSibling.previousSibling.innerHTML,J.value=e.target.parentElement.previousSibling.previousSibling.innerHTML}else j.classList.add("d-none"),localStorage.removeItem("selectedtask")},l=e=>{const t=h(),n=e.target.parentElement.parentElement,l=n.id.slice(-1),s=localStorage.getItem("selectedlist");if(e.target.checked){n.classList.add("strikethrough");for(let e=0;e<t.length;e+=1)if(t[e].list===s){f(t,e,l),localStorage.setItem("liststore",JSON.stringify(t));break}}else{n.classList.remove("strikethrough");for(let e=0;e<t.length;e+=1)if(t[e].list===s){E(t,e,l),localStorage.setItem("liststore",JSON.stringify(t));break}}},s=(e,s,o,i,r=1)=>{const d=document.createElement("tr");d.setAttribute("id",`task${o}`),d.setAttribute("class","text-center");const a=e[s].todos[o],c=document.createElement("th");if(1===r){d.appendChild(c);const e=document.createElement("input");e.addEventListener("click",l),c.appendChild(e),e.setAttribute("scope","row"),e.setAttribute("type","checkbox"),e.setAttribute("class","form-check-input taskdone"),a.status&&(e.checked=!0)}const m=document.createElement("td");d.appendChild(m),m.innerHTML=a.task;const u=document.createElement("td");d.appendChild(u),u.innerHTML=a.description;const p=document.createElement("td");d.appendChild(p),p.innerHTML=a.date;const g=document.createElement("td");if(g.innerHTML=a.priority,d.appendChild(g),1===r){const e=document.createElement("td");d.appendChild(e);const l=document.createElement("button");l.addEventListener("click",n),e.appendChild(l),l.setAttribute("class","btn btn-primary edittask"),l.innerHTML="Edit";const s=document.createElement("td");d.appendChild(s);const o=document.createElement("button");o.addEventListener("click",t),s.appendChild(o),o.setAttribute("class","btn btn-danger deltask"),o.innerHTML="Delete",a.status&&d.classList.add("strikethrough")}i.appendChild(d)},o=()=>{if(localStorage.getItem("selectedlist")){for(;M.lastElementChild;)M.removeChild(M.lastChild);const e=document.createElement("h4");M.appendChild(e),e.setAttribute("class","text-center text-dark mb-4"),e.innerHTML=localStorage.selectedlist,(e=>{k.classList.remove("d-none");const t=h(),n=document.createElement("table");M.appendChild(n),n.setAttribute("class","table table-stripped text-dark container pt-5");const l=document.createElement("thead"),o=document.createElement("tr");l.setAttribute("class","text-center"),o.innerHTML='  <th scope="column">Status</th>\n                        <th>Task</th>\n                        <th>Description</th>\n                        <th>Date</th>\n                        <th>Priority</th> \n                        <th>Edit</th>\n                        <th>Action</th>',l.appendChild(o),n.appendChild(l);const i=document.createElement("tbody");n.appendChild(i);for(let n=0;n<t.length;n+=1)if(t[n].list===e)for(let e=0;e<t[n].todos.length;e+=1)s(t,n,e,i)})(localStorage.getItem("selectedlist"))}},i=e=>{const t=e.target.textContent.trim();localStorage.setItem("selectedlist",t),o()},r=e=>{for(k.classList.add("d-none");M.lastElementChild;)M.removeChild(M.lastChild);const t=document.createElement("h4");M.appendChild(t),t.setAttribute("class","text-center text-dark mb-4"),t.innerHTML=e.target.textContent.trim(),localStorage.removeItem("selectedlist"),(e=>{const t=h(),n=document.createElement("table");M.appendChild(n),n.setAttribute("class","table table-stripped text-dark container pt-5");const l=document.createElement("thead");n.appendChild(l);const o=document.createElement("tr");l.setAttribute("class","text-center"),l.appendChild(o),o.innerHTML='  <th scope="column">Task</th>\n        <th scope="column">Description</th>\n                        <th>Date</th>\n                        <th>Priority</th> \n                ';const i=document.createElement("tbody");n.appendChild(i);for(let n=0;n<t.length;n+=1)for(let l=0;l<t[n].todos.length;l+=1){const o=t[n].todos[l].date,{status:r}=t[n].todos[l],d=new Date(o),a=(new Date-d)/864e5;("Tomorrow "===e&&a<0&&a>-1.1&&!1===r||"Today"===e&&a>=0&&a<=1&&!1===r)&&s(t,n,l,i,e)}})(e.target.textContent.trim())};w.addEventListener("click",i),x.addEventListener("click",r),q.addEventListener("click",r),o(),(()=>{if(localStorage.getItem("liststore")){const t=JSON.parse(localStorage.liststore),n=document.querySelector("#listoftodos");for(let l=1;l<t.length;l+=1){const s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("class","d-flex my-2 justify-content-center nodec");const o=document.createElement("h5");s.appendChild(o),o.addEventListener("click",i),o.setAttribute("id",`projectlist${l}`),o.setAttribute("class","text-white p-2 w-50 text-center listoflist"),o.innerHTML=`\n                         ${t[l].list} \n                      \n                        `;const r=document.createElement("button");r.addEventListener("click",e),s.appendChild(r),r.setAttribute("class","btn btn-danger  btn-sm"),r.innerHTML="Delete",n.appendChild(s)}}})()};R(),(()=>{const e=[];if(!localStorage.getItem("liststore")){const t=new y(s.textContent);e.push(t),localStorage.setItem("liststore",JSON.stringify(e))}n.addEventListener("submit",(e=>{((e,t=!1)=>{const n=h(),l=new y(e);n.push(l),localStorage.setItem("liststore",JSON.stringify(n)),t&&S(t)})(i.value,e)})),o.addEventListener("submit",(e=>{let t;if(localStorage.getItem("selectedlist"))for(let e=0;e<3;e+=1)if(!0===r[e].checked){t=r[e].value;break}((e,t,n,l)=>{const s=h(),o=new v(e,t,n,l,!1),i=localStorage.getItem("selectedlist");for(let e=0;e<s.length;e+=1)if(s[e].list===i){s[e].todos.push(o),localStorage.setItem("liststore",JSON.stringify(s));break}})(c.value,d.value,a.value,t),S(e)})),l.addEventListener("submit",(e=>{let t;if(localStorage.getItem("selectedlist"))for(let e=0;e<3;e+=1)if(!0===m[e].checked){t=m[e].value;break}!function(e,t,n,l){const s=h(),o=localStorage.getItem("selectedlist");for(let i=0;i<s.length;i+=1)if(s[i].list===o){const o=localStorage.getItem("selectedtask");s[i].todos[o].task=t,s[i].todos[o].date=e,s[i].todos[o].description=n,s[i].todos[o].priority=l,localStorage.setItem("liststore",JSON.stringify(s));break}}(g.value,u.value,p.value,t),S(e)})),o.reset(),n.reset()})()})();